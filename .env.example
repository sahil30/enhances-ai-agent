# AI Agent Configuration Template
# Copy this to .env and fill in your actual values

# =============================================================================
# CUSTOM AI API CONFIGURATION
# =============================================================================
# Your custom AI API endpoint and credentials
CUSTOM_AI_API_URL=https://api.openai.com/v1/chat/completions
CUSTOM_AI_API_KEY=your-openai-api-key-here
CUSTOM_AI_MODEL=gpt-4
CUSTOM_AI_MAX_TOKENS=2000
CUSTOM_AI_TEMPERATURE=0.7

# =============================================================================
# CONFLUENCE CONFIGURATION
# =============================================================================
# Confluence API access token (generate at: https://id.atlassian.com/manage-profile/security/api-tokens)
CONFLUENCE_ACCESS_TOKEN=your-confluence-api-token-here
CONFLUENCE_BASE_URL=https://yourcompany.atlassian.net/wiki
CONFLUENCE_MCP_SERVER_URL=ws://localhost:3001

# Optional: Limit search to specific Confluence spaces (comma-separated or JSON array)
# CONFLUENCE_SPACES=["DEV", "DOC", "API"]
# CONFLUENCE_SPACES=DEV,DOC,API

# Connection settings
CONFLUENCE_TIMEOUT=30.0
CONFLUENCE_MAX_RETRIES=3

# =============================================================================
# MCP SERVER CONFIGURATION (for @aashari/mcp-server-atlassian-*)
# =============================================================================

# CONFLUENCE MCP Server Configuration
# Extract site name from CONFLUENCE_BASE_URL (e.g., if URL is https://mycompany-wiki.atlassian.net, then site name is mycompany-wiki)
CONFLUENCE_ATLASSIAN_SITE_NAME=your-confluence-company
CONFLUENCE_ATLASSIAN_USER_EMAIL=your.confluence.email@company.com
CONFLUENCE_ATLASSIAN_API_TOKEN=your-confluence-api-token-here

# JIRA MCP Server Configuration  
# Extract site name from JIRA_BASE_URL (e.g., if URL is https://mycompany-jira.atlassian.net, then site name is mycompany-jira)
JIRA_ATLASSIAN_SITE_NAME=your-jira-company
JIRA_ATLASSIAN_USER_EMAIL=your.jira.email@company.com
JIRA_ATLASSIAN_API_TOKEN=your-jira-api-token-here

# =============================================================================
# JIRA CONFIGURATION  
# =============================================================================
# JIRA API access token (same as Confluence token if using Atlassian Cloud)
JIRA_ACCESS_TOKEN=your-jira-api-token-here
JIRA_BASE_URL=https://yourcompany.atlassian.net
JIRA_MCP_SERVER_URL=ws://localhost:3002

# Optional: Limit search to specific JIRA projects
# JIRA_PROJECTS=["MYPROJECT", "BUGS", "FEATURES"]
# JIRA_PROJECTS=MYPROJECT,BUGS,FEATURES

# Optional: Filter by issue key prefixes for team-specific searches (VERY USEFUL!)
# Perfect for R&D teams, specific projects, or department filtering
# JIRA_ISSUE_KEY_PREFIXES=["RNDPLAN", "RNDDEV", "RNDTEST"]
# JIRA_ISSUE_KEY_PREFIXES=RNDPLAN,RNDDEV,RNDTEST

# Connection settings
JIRA_TIMEOUT=30.0
JIRA_MAX_RETRIES=3

# =============================================================================
# CODE REPOSITORY CONFIGURATION
# =============================================================================
# Path to your code repository (relative or absolute)
CODE_REPO_PATH=./

# Supported file extensions for code search (comma-separated or JSON array)
CODE_SUPPORTED_EXTENSIONS=[".java", ".py", ".js", ".ts", ".json", ".yaml", ".yml", ".xml", ".sh", ".bash", ".sql", ".md", ".txt", ".properties", ".conf"]

# File patterns to exclude from search (supports wildcards)
CODE_EXCLUDE_PATTERNS=["node_modules/*", "target/*", "build/*", "dist/*", ".git/*", "*.log", "*.tmp", "*.cache", ".env", ".env.*"]

# Specific paths to exclude (relative to CODE_REPO_PATH)
CODE_EXCLUDE_PATHS=[]

# Maximum file size to process (in bytes) - 1MB default
CODE_MAX_FILE_SIZE=1048576

# =============================================================================
# CACHE CONFIGURATION
# =============================================================================
# Redis connection URL
REDIS_URL=redis://localhost:6379/0

# Cache TTL settings (in seconds)
CACHE_TTL_SHORT=300     # 5 minutes
CACHE_TTL_MEDIUM=1800   # 30 minutes  
CACHE_TTL_LONG=3600     # 1 hour

# File-based caching
ENABLE_FILE_CACHE=true
FILE_CACHE_DIR=./cache

# =============================================================================
# MONITORING & LOGGING CONFIGURATION
# =============================================================================
# Logging level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Enable Prometheus metrics
ENABLE_METRICS=true
METRICS_PORT=9090

# =============================================================================
# API SERVER CONFIGURATION
# =============================================================================
# Web API server settings
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4
ENABLE_CORS=true

# =============================================================================
# MCP INTEGRATION MODE CONFIGURATION
# =============================================================================
# Use integrated mcp_atlassian modules instead of external MCP servers
USE_INTEGRATED_ATLASSIAN=false

# Disable external MCP server connections (useful for testing or when servers are unavailable)
DISABLE_EXTERNAL_MCP=false